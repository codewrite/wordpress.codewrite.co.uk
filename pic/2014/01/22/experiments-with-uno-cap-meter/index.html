<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-3695330-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-3695330-4');
</script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Experiments with the Arduino Capacitance Meter | PIC Tutorials</title>
<link rel="profile" href="../../../../../xfn/11.html" />
<link rel="stylesheet" type="text/css" media="all" href="../../../../wp-content/themes/twentyeleven/style.css" />
<link rel="alternate" type="application/rss+xml" title="PIC Tutorials &raquo; Feed" href="../../../../feed/" />
<link rel="alternate" type="application/rss+xml" title="PIC Tutorials &raquo; Comments Feed" href="../../../../comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="PIC Tutorials &raquo; Experiments with the Arduino Capacitance Meter Comments Feed" href="feed/" />
<link rel='stylesheet' id='collapseomatic-css-css'  href='../../../../wp-content/plugins/jquery-collapse-o-matic/light_style00e2.css?ver=1.5.7' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jqueryc1d8.js?ver=1.11.3'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<link rel='prev' title='Arduino LCR meter &#8211; ideas' href='../arduino-lcr-meter-ideas/' />
<link rel='next' title='Capacitance Meter Mk II' href='../../25/capacitance-meter-mk-ii/' />
<link rel='canonical' href='index.html' />
<link rel="stylesheet" href="/cookiealert.css">
<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
</head>

<body class="single single-post postid-277 single-format-standard single-author singular two-column right-sidebar">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="../../../../" rel="home">PIC Tutorials</a></span></h1>
				<h2 id="site-description">Electronics and Programming Simplified</h2>
			</hgroup>

						<a href="../../../../">
									<img src="../../../../wp-content/uploads/sites/2/2013/07/cropped-header1.png" width="1000" height="288" alt="" />
							</a>
			
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content">Skip to primary content</a></div>
												<div class="menu-main-menu-container"><ul id="menu-main-menu" class="menu"><li id="menu-item-349" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-349"><a href="../../../../../ham/">Amateur Radio</a></li>
<li id="menu-item-351" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-351"><a href="../../../../about/">About</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

		<div id="primary">
			<div id="content" role="main">

				
					<nav id="nav-single">
						<h3 class="assistive-text">Post navigation</h3>
						<span class="nav-previous"><a href="../arduino-lcr-meter-ideas/" rel="prev"><span class="meta-nav">&larr;</span> Previous</a></span>
						<span class="nav-next"><a href="../../25/capacitance-meter-mk-ii/" rel="next">Next <span class="meta-nav">&rarr;</span></a></span>
					</nav><!-- #nav-single -->

					
<article id="post-277" class="post-277 post type-post status-publish format-standard hentry category-general">
	<header class="entry-header">
		<h1 class="entry-title">Experiments with the Arduino Capacitance Meter</h1>

				<div class="entry-meta">
			<span class="sep">Posted on </span><a href="index.html" title="11:25 am" rel="bookmark"><time class="entry-date" datetime="2014-01-22T11:25:05+00:00">January 22, 2014</time></a><span class="by-author">by </span> <span class="author vcard"><a class="url fn n" href="../../../../author/jon/" title="View all posts by jon" rel="author">jon</a></span></span>		</div><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p>No hack these days would be complete without the inclusion of a mint tin (although usually as a case); so we are going to build a capacitor with two tins, and compare it&#8217;s <a title="Arduino Capacitance Meter" href="../../21/cap-meter-with-arduino-uno/">measured value</a> against it&#8217;s calculated value.</p>
<p>Any two flat bits of metal would do, but I had two of these tins to hand, so that&#8217;s what I used.</p>
<p><a href="../../../../wp-content/uploads/sites/2/2014/01/mint_tin_capacitor.jpg"><img class="alignnone size-medium wp-image-278" alt="mint_tin_capacitor" src="../../../../wp-content/uploads/sites/2/2014/01/mint_tin_capacitor-300x165.jpg" width="300" height="165" /></a></p>
<p><span id="more-277"></span></p>
<p>The two &#8220;plates&#8221; of the capacitor need to be spaced apart &#8211; I chose 3mm &#8211; which I did with four small blobs of blu tack in each corner and then squashed it down until I had a fairly even 3mm spacing. I then jammed the wires into the edge of the tin, making sure they made a reasonable contact, and plugged the other ends into the Arduino. On the serial monitor I got the following reading:</p>
<p><a href="../../../../wp-content/uploads/sites/2/2014/01/min_tin_cap_reading.png"><img class="alignnone size-medium wp-image-279" alt="min_tin_cap_reading" src="../../../../wp-content/uploads/sites/2/2014/01/min_tin_cap_reading-300x122.png" width="300" height="122" /></a></p>
<p>About 19.6pF. Next, to calculate what it should be. The formula for a capacitor is:</p>
<p><a href="../../../../wp-content/uploads/sites/2/2014/01/CapFormula.png"><img class="alignnone size-medium wp-image-281" alt="CapFormula" src="../../../../wp-content/uploads/sites/2/2014/01/CapFormula-300x116.png" width="300" height="116" /></a></p>
<p>Our tin is about 58mm x 93mm, which gives us an area of 0.005394 m2. The distance is 0.003 m.Â Îµ0 is about 8.854&#215;10-12. If we put this into the formula above, this gives us a capacitance of about 15.9pF.</p>
<p>Taking into account stray capacitance and inaccuracies in our measurements, this is close enough to the 19.6pF that we measured.</p>
<p>I reduced the air gap to about 1mm and the measured value went up to about 45pF &#8211; which again is what we would expect.</p>
<p>If you put different materials between the plates the capacitance will be higher &#8211; paper for instance has a relative permittivity of 3.85 (<a title="Relative Permitivitty" href="http://en.wikipedia.org/wiki/Relative_permittivity">see wikipedia</a>).</p>
			</div><!-- .entry-content -->

	<footer class="entry-meta">
		This entry was posted in <a href="../../../../category/general/" rel="category tag">General</a> by <a href="../../../../author/jon/">jon</a>. Bookmark the <a href="index.html" title="Permalink to Experiments with the Arduino Capacitance Meter" rel="bookmark">permalink</a>.		
			</footer><!-- .entry-meta -->
</article><!-- #post-277 -->

						<div id="comments">
	
	
			<h2 id="comments-title">
			5 thoughts on &ldquo;<span>Experiments with the Arduino Capacitance Meter</span>&rdquo;		</h2>

		
		<ol class="commentlist">
				<li class="comment even thread-even depth-1" id="li-comment-262">
		<article id="comment-262" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='../../../../../avatar/anon-large.png?s=68&amp;d=mm&amp;r=g' srcset='http://1.gravatar.com/avatar/7f859eacd39a3f0686100f114bc97323?s=136&amp;d=mm&amp;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' /><span class="fn"><a href='http://www.kohliabhi.in/' rel='external nofollow' class='url'>Abhi</a></span> on <a href="index.html#comment-262"><time datetime="2014-01-23T11:39:08+00:00">January 23, 2014 at 11:39 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>How about two currency coins (biggest in size) with a very thin wax layer in between? Or wet paper in between. Make sure though, to use only distilled water for wetting paper, otherwise it will be a very &#8216;leaky&#8217; capacitor. ðŸ˜›</p>
</div>

		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-654">
		<article id="comment-654" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='../../../../../avatar/anon-large.png?s=68&amp;d=mm&amp;r=g' srcset='http://0.gravatar.com/avatar/f4e70404441100128592838da793459e?s=136&amp;d=mm&amp;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' /><span class="fn">Raj</span> on <a href="index.html#comment-654"><time datetime="2015-01-03T00:44:55+00:00">January 3, 2015 at 12:44 am</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Hi!  In your picture for this experiment, I don&#8217;t see the C1 (30pF), I just see the CT, is that by design? I&#8217;m assuming if you don&#8217;t have C1 in your design, the measurement will not be accurate as the CT will always charge up to digital HIGH. Pls let me know what am I missing.</p>
</div>

		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
	<li class="comment even thread-even depth-1" id="li-comment-691">
		<article id="comment-691" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='../../../../../avatar/anon-large.png?s=68&amp;d=mm&amp;r=g' srcset='http://1.gravatar.com/avatar/a8d2a3db052b6a1d864c9e697ec952f5?s=136&amp;d=mm&amp;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' /><span class="fn">Jon</span> on <a href="index.html#comment-691"><time datetime="2015-01-14T12:05:51+00:00">January 14, 2015 at 12:05 pm</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>I&#8217;m relying on the stray capacitance of the Arduino / board, which is about 30pF. In the code it is defined as IN_STRAY_CAP_TO_GND. In the main article I suggest calibrating this as otherwise the measurement won&#8217;t be very accurate &#8211; on my board this turned out to be 24.48pF.</p>
</div>

		</article><!-- #comment-## -->

	<ul class="children">
	<li class="comment odd alt depth-2" id="li-comment-700">
		<article id="comment-700" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='../../../../../avatar/anon-small.png?s=39&amp;d=mm&amp;r=g' srcset='http://0.gravatar.com/avatar/f4e70404441100128592838da793459e?s=78&amp;d=mm&amp;r=g 2x' class='avatar avatar-39 photo' height='39' width='39' /><span class="fn">Raj</span> on <a href="index.html#comment-700"><time datetime="2015-01-17T22:58:57+00:00">January 17, 2015 at 10:58 pm</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>Thanks! I&#8217;m getting strange results lately with a similar experiment as yours. I&#8217;m trying to measure a capacitance of a liquid and even with liquid at rest, the value read by Arduino fluctuates a lot, I even tried changing sampling time (500ms to 16sec), and even read the value at different times (1000ms to 4000ms) before writing digital high. The capacitance when I measure through my capacitance meter it is in the range of 50-90pF so I was expecting it to charge/discharge very quickly. Any ideas/thoughts to troubleshoot/debug is appreciated. I tried with a couple of Arduino boards but the resulting pattern didn&#8217;t change.<br />
Thanks!</p>
</div>

		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-745">
		<article id="comment-745" class="comment">
			<footer class="comment-meta">
				<div class="comment-author vcard">
					<img alt='' src='../../../../../avatar/anon-large.png?s=68&amp;d=mm&amp;r=g' srcset='http://0.gravatar.com/avatar/fd2c0589c05c5ba30543d9de570f060d?s=136&amp;d=mm&amp;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' /><span class="fn">Peter</span> on <a href="index.html#comment-745"><time datetime="2015-02-11T16:16:27+00:00">February 11, 2015 at 4:16 pm</time></a> <span class="says">said:</span>
									</div><!-- .comment-author .vcard -->

				
			</footer>

			<div class="comment-content"><p>@Raj: reading single samples at larger time intervals will not help to reduce the noise. But it can be removed by taking many samples, sum them up and divide by the number of samples taken. This removes the noise and provides a stable value.</p>
</div>

		</article><!-- #comment-## -->

	</li><!-- #comment-## -->
		</ol>

		
		
	

			
</div><!-- #comments -->

				
			</div><!-- #content -->
		</div><!-- #primary -->


	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			

			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript'>
var colomatduration = 'fast';
var colomatslideEffect = 'slideFade';
</script><script type='text/javascript' src='../../../../wp-includes/js/comment-reply.min5b31.js?ver=4.3.1'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/jquery-collapse-o-matic/js/collapse00e2.js?ver=1.5.7'></script>

  <div class="alert alert-dismissible text-center cookiealert" role="alert">
	<div class="cookiealert-container">
	  Cookies &#x1F36A; We use cookies to ensure you get the best experience on our website. <a
		href="https://cookiesandyou.com/" target="_blank">Learn more</a>
	  <button type="button" class="btn btn-primary btn-sm acceptcookies" aria-label="Close">
		I agree
	  </button>
	</div>
  </div>
  <script src="/cookiealert.js"></script>

</body>

</html>